\hypertarget{_box2_d_physics_service_8h_source}{}\doxysection{Box2\+DPhysics\+Service.\+h}
\label{_box2_d_physics_service_8h_source}\index{D:/Avans/Jaar4/MinorSPC/SPC-\/Project/src/Services/Box2DPhysicsService.h@{D:/Avans/Jaar4/MinorSPC/SPC-\/Project/src/Services/Box2DPhysicsService.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//}}
\DoxyCodeLine{2 \textcolor{comment}{// Created by conner on 11/2/2022.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#ifndef SPC\_PROJECT\_BOX2DPHYSICSSERVICE\_H}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#define SPC\_PROJECT\_BOX2DPHYSICSSERVICE\_H}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <box2d/box2d.h>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <optional>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include "{}Abstracts/PhysicsService.h"{}}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{keyword}{using namespace }GolfEngine::Scene;}
\DoxyCodeLine{14 \textcolor{keyword}{using namespace }GolfEngine::Scene::Components;}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{keyword}{namespace }GolfEngine::Services::Physics\{}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#define PhysicsSpaceToWorldSpace 100.0f}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#define DefaultVelocityIterations 8}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#define DefaultPositionIterations 3}}
\DoxyCodeLine{22 }
\DoxyCodeLine{23     \textcolor{keyword}{class }\mbox{\hyperlink{class_golf_engine_1_1_services_1_1_physics_1_1_rays_cast_callback}{RaysCastCallback}} : \textcolor{keyword}{public} b2RayCastCallback}
\DoxyCodeLine{24     \{}
\DoxyCodeLine{25     \textcolor{keyword}{public}:}
\DoxyCodeLine{26         \mbox{\hyperlink{class_golf_engine_1_1_services_1_1_physics_1_1_rays_cast_callback}{RaysCastCallback}}() : m\_fixture\{\textcolor{keyword}{nullptr}\} \{}
\DoxyCodeLine{27         \}}
\DoxyCodeLine{28         \textcolor{keywordtype}{float} ReportFixture(b2Fixture *fixture, \textcolor{keyword}{const} b2Vec2 \&point, \textcolor{keyword}{const} b2Vec2 \&normal, \textcolor{keywordtype}{float} fraction) \textcolor{keyword}{override};}
\DoxyCodeLine{29         b2Fixture* m\_fixture;}
\DoxyCodeLine{30         b2Vec2 m\_point;}
\DoxyCodeLine{31         b2Vec2 m\_normal;}
\DoxyCodeLine{32         \textcolor{keywordtype}{float} m\_fraction;}
\DoxyCodeLine{33     \};}
\DoxyCodeLine{34 }
\DoxyCodeLine{35     \textcolor{keyword}{class }\mbox{\hyperlink{class_golf_engine_1_1_services_1_1_physics_1_1_box2_d_physics_service}{Box2DPhysicsService}} :  \textcolor{keyword}{public} \mbox{\hyperlink{class_golf_engine_1_1_services_1_1_physics_1_1_physics_service}{PhysicsService}} \{}
\DoxyCodeLine{36     \textcolor{keyword}{public}:}
\DoxyCodeLine{37         \textcolor{comment}{// Constructors}}
\DoxyCodeLine{38         \mbox{\hyperlink{class_golf_engine_1_1_services_1_1_physics_1_1_box2_d_physics_service}{Box2DPhysicsService}}(\textcolor{keywordtype}{int} velIterations, \textcolor{keywordtype}{int} posIterations);}
\DoxyCodeLine{39         \textcolor{keyword}{explicit} \mbox{\hyperlink{class_golf_engine_1_1_services_1_1_physics_1_1_box2_d_physics_service}{Box2DPhysicsService}}() : \mbox{\hyperlink{class_golf_engine_1_1_services_1_1_physics_1_1_box2_d_physics_service}{Box2DPhysicsService}}(DefaultVelocityIterations, DefaultPositionIterations) \{\}}
\DoxyCodeLine{40 }
\DoxyCodeLine{41         \textcolor{comment}{// Methods}}
\DoxyCodeLine{44 \textcolor{comment}{}        \textcolor{keywordtype}{void} \mbox{\hyperlink{class_golf_engine_1_1_services_1_1_physics_1_1_box2_d_physics_service_ab8e8a761b435f8fc48db65c4790b9660}{addRigidBody}}(\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_components_1_1_rigid_body}{RigidBody}}* pRigidBody) \textcolor{keyword}{override};}
\DoxyCodeLine{47         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_golf_engine_1_1_services_1_1_physics_1_1_box2_d_physics_service_a2a9ec0b7b2e0937b7c531c7e4b8e5aa7}{removeRigidBody}}(\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_components_1_1_rigid_body}{RigidBody}}* pRigidBody) \textcolor{keyword}{override};}
\DoxyCodeLine{48         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_golf_engine_1_1_services_1_1_physics_1_1_box2_d_physics_service_a6d8605ebcee4f1eb7222fe977699d9eb}{update}}(GameTic timeStep) \textcolor{keyword}{override};}
\DoxyCodeLine{49         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_golf_engine_1_1_services_1_1_physics_1_1_box2_d_physics_service_a98321713ab514b06415fd5d735b5b718}{setGravity}}(\textcolor{keyword}{const} \mbox{\hyperlink{struct_golf_engine_1_1_scene_1_1_vector2}{Vector2}}\& vec2) \textcolor{keyword}{override};}
\DoxyCodeLine{50 }
\DoxyCodeLine{51         \textcolor{comment}{// RigidBody specific methods -\/ Getters}}
\DoxyCodeLine{52         \mbox{\hyperlink{struct_golf_engine_1_1_scene_1_1_vector2}{Vector2}} getLinearVelocity(\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_components_1_1_rigid_body}{RigidBody}}* pBody) \textcolor{keyword}{override};}
\DoxyCodeLine{53         \textcolor{keywordtype}{float} getAngularVelocity(\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_components_1_1_rigid_body}{RigidBody}}* pBody) \textcolor{keyword}{override};}
\DoxyCodeLine{54         \textcolor{keywordtype}{bool} raycastWorld(\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_components_1_1_rigid_body}{RigidBody}}* start, \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_components_1_1_rigid_body}{RigidBody}}* target) \textcolor{keyword}{override};}
\DoxyCodeLine{55 }
\DoxyCodeLine{56         \textcolor{comment}{// RigidBody specific methods -\/ Setters}}
\DoxyCodeLine{57         \textcolor{keywordtype}{void} applyLocalForceToCenter(\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_components_1_1_rigid_body}{RigidBody}}* pRigidBody, \textcolor{keyword}{const} \mbox{\hyperlink{struct_golf_engine_1_1_scene_1_1_vector2}{Vector2}}\& force) \textcolor{keyword}{override};}
\DoxyCodeLine{58         \textcolor{keywordtype}{void} applyWorldForceToCenter(\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_components_1_1_rigid_body}{RigidBody}}* pRigidBody, \textcolor{keyword}{const} \mbox{\hyperlink{struct_golf_engine_1_1_scene_1_1_vector2}{Vector2}}\& force) \textcolor{keyword}{override};}
\DoxyCodeLine{59         \textcolor{keywordtype}{void} setTransform(\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_components_1_1_rigid_body}{RigidBody}}* pRigidBody, \textcolor{keyword}{const} \mbox{\hyperlink{struct_golf_engine_1_1_scene_1_1_transform}{Transform}}\& transform) \textcolor{keyword}{override};}
\DoxyCodeLine{60         \textcolor{keywordtype}{void} setEnabled(\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_components_1_1_rigid_body}{RigidBody}}* pRigidBody, \textcolor{keywordtype}{bool} enabled) \textcolor{keyword}{override};}
\DoxyCodeLine{61         \textcolor{keywordtype}{void} setLinearDamping(\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_components_1_1_rigid_body}{RigidBody}}* pRigidBody, \textcolor{keywordtype}{float} linearDamping) \textcolor{keyword}{override};}
\DoxyCodeLine{62         \textcolor{keywordtype}{void} setAngularDamping(\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_components_1_1_rigid_body}{RigidBody}}* pRigidBody, \textcolor{keywordtype}{float} angularDamping) \textcolor{keyword}{override};}
\DoxyCodeLine{63         \textcolor{keywordtype}{void} setFixedRotation(\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_components_1_1_rigid_body}{RigidBody}}* pRigidBody, \textcolor{keywordtype}{bool} fixedRotation) \textcolor{keyword}{override};}
\DoxyCodeLine{64         \textcolor{keywordtype}{void} setGravityScale(\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_components_1_1_rigid_body}{RigidBody}}* pRigidBody, \textcolor{keywordtype}{float} gravityScale) \textcolor{keyword}{override};}
\DoxyCodeLine{65         \textcolor{keywordtype}{void} setLinearVelocity(\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_components_1_1_rigid_body}{RigidBody}}* pRigidBody, \textcolor{keyword}{const} \mbox{\hyperlink{struct_golf_engine_1_1_scene_1_1_vector2}{Vector2}}\& velocity) \textcolor{keyword}{override};}
\DoxyCodeLine{66         \textcolor{keywordtype}{void} setAngularVelocity(\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_components_1_1_rigid_body}{RigidBody}}* pRigidBody, \textcolor{keywordtype}{float} omega) \textcolor{keyword}{override};}
\DoxyCodeLine{67 }
\DoxyCodeLine{68         std::vector<Collider*> getStaticColliders() \textcolor{keyword}{override};}
\DoxyCodeLine{69 }
\DoxyCodeLine{70         \textcolor{comment}{// Methods for testing}}
\DoxyCodeLine{71         \textcolor{keywordtype}{int} getBodyCount() \textcolor{keyword}{const};}
\DoxyCodeLine{72         \textcolor{keywordtype}{int} getFixtureCount() \textcolor{keyword}{const};}
\DoxyCodeLine{73 }
\DoxyCodeLine{74         std::optional<std::reference\_wrapper<RigidBody>> getRigidBodyWithB2Body(b2Body\& body);}
\DoxyCodeLine{75     \textcolor{keyword}{private}:}
\DoxyCodeLine{76         \textcolor{comment}{// Fields}}
\DoxyCodeLine{78 \textcolor{comment}{}        b2World \_world \{\{0.f, 0.f\}\};}
\DoxyCodeLine{80         \textcolor{keyword}{const} \textcolor{keywordtype}{int} \_velocityIterations;}
\DoxyCodeLine{82         \textcolor{keyword}{const} \textcolor{keywordtype}{int} \_positionIterations;}
\DoxyCodeLine{83 }
\DoxyCodeLine{84         \textcolor{comment}{// Methods}}
\DoxyCodeLine{85         std::map<RigidBody*, b2Body*> \_rigidBodies \{\};}
\DoxyCodeLine{86         std::optional<b2Body*> getB2Body(\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_components_1_1_rigid_body}{RigidBody}}* rigidBody) \textcolor{keyword}{const};}
\DoxyCodeLine{87     \};}
\DoxyCodeLine{88 }
\DoxyCodeLine{89 \}}
\DoxyCodeLine{90 }
\DoxyCodeLine{91 }
\DoxyCodeLine{92 }
\DoxyCodeLine{93 \textcolor{preprocessor}{\#endif }\textcolor{comment}{//SPC\_PROJECT\_BOX2DPHYSICSSERVICE\_H}}

\end{DoxyCode}
