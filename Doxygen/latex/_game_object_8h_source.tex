\hypertarget{_game_object_8h_source}{}\doxysection{Game\+Object.\+h}
\label{_game_object_8h_source}\index{D:/Avans/Jaar4/MinorSPC/SPC-\/Project/src/Scene/GameObjects/GameObject.h@{D:/Avans/Jaar4/MinorSPC/SPC-\/Project/src/Scene/GameObjects/GameObject.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//}}
\DoxyCodeLine{2 \textcolor{comment}{// Created by conner on 11/21/2022.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#ifndef GOLFENGINE\_GAMEOBJECT\_H}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#define GOLFENGINE\_GAMEOBJECT\_H}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <optional>}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <algorithm>}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <stdexcept>}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include "{}../Transform.h"{}}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include "{}../IPersistable.h"{}}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include "{}../Components/Component.h"{}}}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{keyword}{namespace }GolfEngine::Scene \{}
\DoxyCodeLine{21     \textcolor{comment}{// Forward declaration}}
\DoxyCodeLine{22     \textcolor{keyword}{class }Component;}
\DoxyCodeLine{23 }
\DoxyCodeLine{24     \textcolor{keyword}{class }\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object}{GameObject}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_i_persistable}{IPersistable}} \{}
\DoxyCodeLine{25     \textcolor{keyword}{private}:}
\DoxyCodeLine{26         \textcolor{keyword}{struct }Snapshot : \textcolor{keyword}{public} \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_i_snapshot}{ISnapshot}} \{}
\DoxyCodeLine{27             \textcolor{keywordtype}{bool} active\{\};}
\DoxyCodeLine{28             \mbox{\hyperlink{struct_golf_engine_1_1_scene_1_1_transform}{Transform}} localTransform\{\};}
\DoxyCodeLine{29             std::vector<std::unique\_ptr<ISnapshot>> componentSnapshots\{\};}
\DoxyCodeLine{30         \};}
\DoxyCodeLine{31     \textcolor{keyword}{protected}:}
\DoxyCodeLine{32         \textcolor{keywordtype}{bool} \_active;}
\DoxyCodeLine{33         std::unique\_ptr<std::reference\_wrapper<GameObject>> \_parent;}
\DoxyCodeLine{34         std::vector<std::reference\_wrapper<GameObject>> \_children;}
\DoxyCodeLine{35         std::vector<std::unique\_ptr<Component>> \_components;}
\DoxyCodeLine{36         \mbox{\hyperlink{struct_golf_engine_1_1_scene_1_1_transform}{Transform}} \_localTransform\{\};}
\DoxyCodeLine{37         \textcolor{keyword}{const} \textcolor{keywordtype}{bool} \_recordable;}
\DoxyCodeLine{38     \textcolor{keyword}{public}:}
\DoxyCodeLine{39         std::string name;}
\DoxyCodeLine{40         std::string tag;}
\DoxyCodeLine{41         std::uint32\_t layer;}
\DoxyCodeLine{42 }
\DoxyCodeLine{43     \textcolor{keyword}{public}:}
\DoxyCodeLine{47         \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object}{GameObject}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *name = \textcolor{keyword}{nullptr}, \textcolor{keyword}{const} \textcolor{keywordtype}{char} *tag = \textcolor{keyword}{nullptr}, \textcolor{keywordtype}{bool} recordable = \textcolor{keyword}{true});}
\DoxyCodeLine{48 }
\DoxyCodeLine{49         \textcolor{keyword}{virtual} \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object}{\string~GameObject}}();}
\DoxyCodeLine{50 }
\DoxyCodeLine{55         \textcolor{keyword}{template}<\textcolor{keyword}{typename} C, \textcolor{keyword}{typename} ... Args>}
\DoxyCodeLine{56         C \&\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_aa127686897983556ebcaaead87946e75}{addComponent}}(Args... args) \{}
\DoxyCodeLine{57             C \&newComp = \textcolor{keyword}{dynamic\_cast<}C \&\textcolor{keyword}{>}(*\_components.emplace\_back(std::make\_unique<C>(args...)));}
\DoxyCodeLine{58             newComp.setParentGameObject(*\textcolor{keyword}{this});}
\DoxyCodeLine{59             newComp.setActive(\textcolor{keyword}{true});}
\DoxyCodeLine{60             \textcolor{keywordflow}{return} newComp;}
\DoxyCodeLine{61         \};}
\DoxyCodeLine{62 }
\DoxyCodeLine{66         \textcolor{keyword}{template}<\textcolor{keyword}{typename} C>}
\DoxyCodeLine{67         C \&\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_a41013d8689c02f2111d967a6a6be5e43}{getComponent}}()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{68             \textcolor{keywordflow}{if} (!\_components.empty()) \{}
\DoxyCodeLine{69                 \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&comp: \_components) \{}
\DoxyCodeLine{70 \textcolor{comment}{//                 auto temp = dynamic\_cast<typeof(comp.get())>(*comp);}}
\DoxyCodeLine{71                     \textcolor{comment}{// Try to cast to desired component}}
\DoxyCodeLine{72                     \textcolor{keyword}{auto} *castedComp = \textcolor{keyword}{dynamic\_cast<}C *\textcolor{keyword}{>}(comp.get());}
\DoxyCodeLine{73                     \textcolor{comment}{// Return if cast was successful}}
\DoxyCodeLine{74                     \textcolor{keywordflow}{if} (castedComp)}
\DoxyCodeLine{75                         \textcolor{keywordflow}{return} \textcolor{keyword}{dynamic\_cast<}C \&\textcolor{keyword}{>}(*comp);}
\DoxyCodeLine{76                 \}}
\DoxyCodeLine{77             \}}
\DoxyCodeLine{78             \textcolor{keywordflow}{throw} std::runtime\_error(\textcolor{stringliteral}{"{}No component found of given type in "{}} + name);}
\DoxyCodeLine{79         \};}
\DoxyCodeLine{80 }
\DoxyCodeLine{83         \textcolor{keyword}{template}<\textcolor{keyword}{typename} C>}
\DoxyCodeLine{84         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_a4d1b7413734953176612a5f84fddcc15}{removeComponent}}() \{}
\DoxyCodeLine{85             \textcolor{keywordflow}{if} (!\_components.empty()) \{}
\DoxyCodeLine{86                 \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} comp = \_components.begin(); comp < \_components.end(); comp++) \{}
\DoxyCodeLine{87                     \textcolor{comment}{// Try to cast to desired component}}
\DoxyCodeLine{88                     \textcolor{keyword}{auto} *castedComp = \textcolor{keyword}{dynamic\_cast<}C *\textcolor{keyword}{>}((*comp).get());}
\DoxyCodeLine{89                     \textcolor{comment}{// Return if cast was successful}}
\DoxyCodeLine{90                     \textcolor{keywordflow}{if} (castedComp)}
\DoxyCodeLine{91                         \_components.erase(comp);}
\DoxyCodeLine{92                 \}}
\DoxyCodeLine{93             \}}
\DoxyCodeLine{94         \}}
\DoxyCodeLine{95 }
\DoxyCodeLine{99         \textcolor{keyword}{template}<\textcolor{keyword}{typename} C>}
\DoxyCodeLine{100         \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_ab22b80170f2ce4612750474e0663d159}{hasComponent}}() \{}
\DoxyCodeLine{101             \textcolor{keywordflow}{if} (!\_components.empty()) \{}
\DoxyCodeLine{102                 \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&comp: \_components) \{}
\DoxyCodeLine{103                     \textcolor{comment}{// Try to cast to desired component}}
\DoxyCodeLine{104                     \textcolor{keyword}{auto} *castedComp = \textcolor{keyword}{dynamic\_cast<}C *\textcolor{keyword}{>}(comp.get());}
\DoxyCodeLine{105                     \textcolor{comment}{// Return if cast was successful}}
\DoxyCodeLine{106                     \textcolor{keywordflow}{if} (castedComp)}
\DoxyCodeLine{107                         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{108                 \}}
\DoxyCodeLine{109             \}}
\DoxyCodeLine{110             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{111         \}}
\DoxyCodeLine{112 }
\DoxyCodeLine{116         \textcolor{keyword}{template}<\textcolor{keyword}{typename} C>}
\DoxyCodeLine{117         std::vector<std::reference\_wrapper<C>> \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_afe4e68a1f5e6a9de0d27fc5e67372f47}{getComponents}}() \{}
\DoxyCodeLine{118             std::vector<std::reference\_wrapper<C>> components\{\};}
\DoxyCodeLine{119             \textcolor{keywordflow}{if} (!\_components.empty()) \{}
\DoxyCodeLine{120                 \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} \&comp: \_components) \{}
\DoxyCodeLine{121                     \textcolor{comment}{// Try to cast to desired component}}
\DoxyCodeLine{122                     \textcolor{keyword}{auto} *castedComp = \textcolor{keyword}{dynamic\_cast<}C *\textcolor{keyword}{>}(comp.get());}
\DoxyCodeLine{123                     \textcolor{comment}{// Add to list if cast was successful}}
\DoxyCodeLine{124                     \textcolor{keywordflow}{if} (castedComp)}
\DoxyCodeLine{125                         components.push\_back(\textcolor{keyword}{dynamic\_cast<}C \&\textcolor{keyword}{>}(*comp));}
\DoxyCodeLine{126                 \}}
\DoxyCodeLine{127             \}}
\DoxyCodeLine{128             \textcolor{keywordflow}{return} std::move(components);}
\DoxyCodeLine{129         \}}
\DoxyCodeLine{130 }
\DoxyCodeLine{133         [[nodiscard]] \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_a2c9fa198daafec780d7e7591f84888ad}{getActive}}() \textcolor{keyword}{const};}
\DoxyCodeLine{134 }
\DoxyCodeLine{137         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_a9e2cc1d1b5540e5c2a4eabd7aa2305a6}{setActive}}(\textcolor{keywordtype}{bool} active);}
\DoxyCodeLine{138 }
\DoxyCodeLine{140         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_aeb4505baa81e006f1a4737357b284cef}{onStart}}();}
\DoxyCodeLine{141 }
\DoxyCodeLine{143         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_a87981e4c5477de161b21d08c9bed1483}{onUpdate}}();}
\DoxyCodeLine{144 }
\DoxyCodeLine{147         std::vector<std::reference\_wrapper<GameObject>> \&\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_a537b8f4db98d65989797e10474f91c09}{children}}();}
\DoxyCodeLine{148 }
\DoxyCodeLine{152         \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object}{GameObject}} \&\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_aacf3c397c5853f5b2c612333a92b9240}{childAt}}(\textcolor{keywordtype}{int} index);}
\DoxyCodeLine{153 }
\DoxyCodeLine{156         [[nodiscard]] \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object}{GameObject}} \&\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_ad58f7e4feaa3714d33762903afc07b76}{parent}}() \textcolor{keyword}{const};}
\DoxyCodeLine{157 }
\DoxyCodeLine{160         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_afcd781f66efdff5f7230868dde5948e0}{setParent}}(\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object}{GameObject}} \&\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_ad58f7e4feaa3714d33762903afc07b76}{parent}});}
\DoxyCodeLine{161 }
\DoxyCodeLine{164         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_a46a280c26e7ba96e763d65c63bc259a5}{addChild}}(\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object}{GameObject}} \&child);}
\DoxyCodeLine{165 }
\DoxyCodeLine{168         \textcolor{keyword}{const} \mbox{\hyperlink{struct_golf_engine_1_1_scene_1_1_transform}{Transform}} \&\mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_a2646a0a9a51654106a16b50c7162af4b}{getLocalTransform}}() \textcolor{keyword}{const};}
\DoxyCodeLine{169 }
\DoxyCodeLine{170         \textcolor{keywordtype}{void} setLocalTransform(\textcolor{keyword}{const} \mbox{\hyperlink{struct_golf_engine_1_1_scene_1_1_transform}{Transform}} \&rTransform);}
\DoxyCodeLine{171 }
\DoxyCodeLine{172         \textcolor{keywordtype}{void} setLocalPosition(\textcolor{keyword}{const} \mbox{\hyperlink{struct_golf_engine_1_1_scene_1_1_vector2}{Vector2}} \&rPosition);}
\DoxyCodeLine{173 }
\DoxyCodeLine{174         \textcolor{keywordtype}{void} setLocalRotation(\textcolor{keyword}{const} \textcolor{keywordtype}{float} \&rotation);}
\DoxyCodeLine{175 }
\DoxyCodeLine{178         \mbox{\hyperlink{struct_golf_engine_1_1_scene_1_1_transform}{Transform}} \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_a43a9b49cdfe86e43bca110acfdd237a1}{getWorldTransform}}() \textcolor{keyword}{const};}
\DoxyCodeLine{179 }
\DoxyCodeLine{182         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_aa8ef682b4bb909cc4a65e3b725be6662}{setWorldTransform}}(\textcolor{keyword}{const} \mbox{\hyperlink{struct_golf_engine_1_1_scene_1_1_transform}{Transform}} \&rTransform);}
\DoxyCodeLine{183 }
\DoxyCodeLine{184         \textcolor{comment}{// IPersistable overrides}}
\DoxyCodeLine{185         std::unique\_ptr<ISnapshot> saveSnapshot() \textcolor{keyword}{override};}
\DoxyCodeLine{186 }
\DoxyCodeLine{187         \textcolor{keywordtype}{void} loadSnapshot(\textcolor{keyword}{const} \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_i_snapshot}{ISnapshot}} \&rawSnapshot) \textcolor{keyword}{override};}
\DoxyCodeLine{188 }
\DoxyCodeLine{191         \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_golf_engine_1_1_scene_1_1_game_object_abf404bbddd342e800793622d7be4e477}{isRecordable}}() \textcolor{keyword}{const};}
\DoxyCodeLine{192     \};}
\DoxyCodeLine{193 \}}
\DoxyCodeLine{194 }
\DoxyCodeLine{195 }
\DoxyCodeLine{196 \textcolor{preprocessor}{\#endif }\textcolor{comment}{//GOLFENGINE\_GAMEOBJECT\_H}}

\end{DoxyCode}
